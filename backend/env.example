# Configuration de l'application
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:8080

# =========================
# Authentification Admin
# =========================
# IMPORTANT: Par défaut l'accès admin est activé (fallback sur admin/admin si ADMIN_PASSWORD est absent).
# Pour désactiver explicitement l'accès admin:
# ADMIN_AUTH_DISABLED=1
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin
# Durée de vie du token admin (ms). Défaut: 12h si non défini.
ADMIN_TOKEN_TTL_MS=43200000

# Configuration de la base de données SQL Server
DB_SERVER=SERVEURERP
DB_DATABASE=SEDI_ERP
DB_USER=QUALITE
DB_PASSWORD=QUALITE
DB_ENCRYPT=false
DB_TRUST_CERT=true

# Configuration de l'API
API_TIMEOUT=30000
API_RETRY_ATTEMPTS=3

# Configuration du cache
CACHE_ENABLED=true
CACHE_TTL=300000

# Configuration Redis (optionnel - si non défini, utilise le cache mémoire)
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password
# REDIS_DB=0

# Configuration des logs
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Configuration de sécurité
JWT_SECRET=your-secret-key-here
SESSION_SECRET=your-session-secret-here

# Configuration des notifications
NOTIFICATION_EMAIL_ENABLED=true
NOTIFICATION_EMAIL_HOST=smtp.gmail.com
NOTIFICATION_EMAIL_PORT=587
NOTIFICATION_EMAIL_USER=methode@sedi-ati.com
NOTIFICATION_EMAIL_PASS=your-app-password-here

# Configuration email pour les commentaires
# Option 1: Désactiver complètement l'email (simulation uniquement)
# EMAIL_DISABLED=true

# Option 2: Utiliser HTTP sans mot de passe (RECOMMANDÉ)
EMAIL_DISABLED=false
EMAIL_USE_HTTP=true
# EMAIL_WEBHOOK_URL=https://votre-webhook.com/send-email

# Option 3: Utiliser un serveur SMTP local sans authentification
# EMAIL_USE_HTTP=false
# SMTP_HOST=localhost
# SMTP_PORT=25

# Option 4: Utiliser un serveur SMTP externe avec authentification
# EMAIL_USE_HTTP=false
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=methode@sedi-ati.com
# SMTP_PASS=your-app-password-here
# SMTP_FROM=methode@sedi-ati.com

# Configuration des exports
EXPORT_MAX_RECORDS=10000
EXPORT_FORMATS=csv,excel,pdf

# Configuration FSOP
# Chemin vers le fichier Excel contenant la liste des formulaires
FSOP_TEMPLATES_XLSX_PATH=X:\Qualite\4_Public\A disposition\DOSSIER SMI\Formulaires\Liste des formulaires.xlsx

# Répertoire contenant les templates Word (où se trouvent les fichiers Fxxx.docx)
FSOP_TEMPLATES_DIR=X:\Qualite\4_Public\A disposition\DOSSIER SMI\Formulaires

# Configuration de traçabilité (pour FSOP /open)
# Répertoire racine contenant les dossiers de lancement (LTxxxx)
TRACEABILITY_DIR=X:\Tracabilite

# =========================
# SILOG - EDI_JOB (remontée des temps)
# =========================
# Commande fournie (PowerShell):
# start-process -FilePath "\\SERVEURERP\\SILOG8\\SILOG.exe" -ArgumentList "-bSEDI_TESTS -uProduction8 -p -dfr_fr -eEDI_JOB -optcodetache=SEDI_ETDIFF -mCOMPACT" -workingdirectory "\\SERVEURERP\\SILOG8" -wait
#
# Variables:
# - SILOG_DB: SEDI_TESTS (test) ou SEDI_ERP (prod)
# - SILOG_USER: Production8 (ou futur utilisateur "ATELIER")
# - SILOG_TASK_CODE: SEDI_ETDIFF (tâche d’intégration, identique en test/prod)

# Chemin UNC vers SILOG.exe (recommandé en atelier)
SILOG_EXE_PATH=\\\\SERVEURERP\\SILOG8\\SILOG.exe

# Working directory (UNC) requis pour reproduire Start-Process -WorkingDirectory
SILOG_WORKDIR=\\\\SERVEURERP\\SILOG8

# Base / profil SILOG
SILOG_DB=SEDI_TESTS

# Utilisateur SILOG
SILOG_USER=Production8

# Mot de passe SILOG (optionnel).
# Si vide, le service utilise "-p" sans valeur, comme la commande Franck.
SILOG_PASSWORD=

# Langue et mode
SILOG_LANG=fr_fr
SILOG_MODE=COMPACT

# Entrypoint et code tâche
SILOG_ENTRYPOINT=EDI_JOB
SILOG_TASK_CODE=SEDI_ETDIFF

# Timeout (ms) pour l’exécution
SILOG_TIMEOUT_MS=300000

# Utiliser PowerShell Start-Process -Wait (recommandé sous Windows)
SILOG_USE_START_PROCESS=true
